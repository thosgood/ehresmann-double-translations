\documentclass[fleqn]{article}

\usepackage[margin=1.6in]{geometry}

\title{Structured categories}
\author{Charles Ehresmann}
\date{1963}

\newcommand{\origcit}{%
  \textsc{Ehresmann, Charles.}
  ``Catégories structurées''.
  \emph{Ann. scient. Éc. Norm. Sup.} \textbf{80} (1963), 349--426.
  \url{http://www.numdam.org/item/?id=ASENS_1963_3_80_4_349_0}
}


%% Standards %%

\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{hyperref}
\usepackage{xcolor}
\hypersetup{colorlinks,linkcolor={blue!50!black},citecolor={blue!50!black},urlcolor={blue!80!black}}
\usepackage{enumerate}
\usepackage{graphicx}
\usepackage{footmisc}
\usepackage[capitalize,noabbrev]{cleveref}


%% Typography and such %%

\usepackage{fouriernc}
\usepackage[cal=esstix]{mathalfa}

\renewcommand{\thesection}{\Roman{section}}
\crefname{section}{}{}


%% Theorem environments %%

\usepackage{amsthm}

\newenvironment{itenv}[1]
  {\phantomsection\par\medskip\noindent\textbf{#1.}\itshape}
  {\par\medskip}

\newenvironment{rmenv}[1]
  {\phantomsection\par\medskip\noindent\textbf{#1.}\rmfamily}
  {\par\medskip}


%% Shortcuts %%

\renewcommand{\geq}{\geqslant}
\renewcommand{\leq}{\leqslant}

\newcommand{\oldpage}[1]{\marginpar{\footnotesize$\Big\vert$ \textit{p.~#1}}}
\newcommand{\todo}{{\color{purple}\textbf{TO-DO }}}
\newcommand{\unsure}[1]{{\color{purple}\textbf{#1}}}

\newcommand{\CC}{\mathcal{C}}
\newcommand{\HH}{\mathcal{H}}
\renewcommand{\SS}{\mathcal{S}}
\newcommand{\MM}{\mathfrak{M}}
\usepackage{upgreek}
\newcommand{\comp}{\upchi}
\newcommand{\KK}{\mathcal{K}}
\newcommand{\FF}{\mathcal{F}}
\renewcommand{\AA}{\mathcal{A}}
\newcommand{\TT}{\mathcal{T}}
\newcommand{\UU}{\mathcal{U}}
\newcommand{\relrho}{\mathrel{\rho}}
\newcommand{\relrhobar}{\mathrel{\bar{\rho}}}
\newcommand{\subs}{\mathrel{\propto}}
\newcommand{\sups}{\mathrel{\reflectbox{$\propto$}}}
\newcommand{\Id}{\mathrm{Id}}

\DeclareMathOperator{\sq}{\square}
\DeclareMathOperator{\vsq}{\raisebox{-.1em}{\rotatebox{90}{$\boxminus$}\,}}
\DeclareMathOperator{\hsq}{\raisebox{-.05em}{$\boxminus$}}
\newcommand{\vmult}{\mathbin{\raisebox{-.1em}{\rotatebox{90}{$\boxminus$}}}}
\newcommand{\hmult}{\mathbin{\raisebox{-.05em}{$\boxminus$}}}
\usepackage{scalerel}
\newcommand{\sqsubs}{\mathrel{\mathrlap{\square}\raisebox{.15em}{\scaleobj{0.7}{\,\propto}}}}


%% Bibliography %%

\usepackage{biblatex}
\addbibresource{structured-categories.bib}
\renewbibmacro{in:}{%
  \ifboolexpr{%
     test {\ifentrytype{article}}%
  }{}{\printtext{\bibstring{in}\intitlepunct}}%
}


%% Document %%

\begin{document}

\maketitle

\hrule
\begin{itenv}{Note from the translator}
This document is a translation from French of the article

\medskip
{\normalfont\origcit}

\medskip
produced with permission from \todo
\end{itenv}
\hrule

\tableofcontents

%% Content %%

\section*{Introduction}
\addcontentsline{toc}{section}{\protect\numberline{}Introduction}

\oldpage{349}

This article is the first part of a work on the notion of structured categories and of species of structured structures.
The main results are summarised in a series in \emph{Notes à l'Académie des Sciences} \cite{3e}.

The first section begins with a short reminder on the notions of species of structures and categories of homomorphisms.
Let $(\CC,p,\HH,\SS)$ be a category of homomorphisms over $\CC$ such that $\SS$ contains the groupoid of invertible elements of the category $\HH$, and such that $\CC$ is further endowed with the structure of an inductive category.
We define the substructures of a structure of $\HH$.
This notion makes precise that of a sub-object of an arbitrary category, using the fact that $\HH$ is a category of homomorphisms and $\CC$ an inductive category;
it leads to endowing $\HH$ with the structure of an ordered category, which is the subject of the main results of this section.

Let $(\MM,p,\HH,\Gamma)$ be a category of homomorphisms with finite products, over a category $\MM$ of maps;
we define, at the start of Section~II, $\HH$-structured categories (or, more precisely, $\HH(\HH',\HH'')$-structured categories).
We then give a certain number of examples: topological categories and differential categories \cite{3b}; double categories that arise, in particular, in the theory of natural transformations between functors \cite{3d}; order-structured categories, in particular inductive categories and inductive groupoids \cite{3c}, etc.
\oldpage{350}
These examples, which I was led to consider in the study of fibred spaces, foliated spaces, extensions of differential varieties, and local structures in general, are the origin of this work.
The end of Section~II contains a series of general theorems:

\begin{itemize}
  \item $\HH$-structured functors form a category of homomorphisms over a category of functors, and over $\MM$;
    it has finite products and \unsure{resolutions to the right}.
  \item Let $(\CC^\bullet,s)$ be an $\HH$-structured category;
    if $\bar{\CC}^\bullet$ is a subcategory of $\CC^\bullet$, and $\bar{s}$ a substructure of $s$ such that $p(\bar{s})=\bar{C}$, then $(\bar{C}^\bullet,\bar{s})$ is an $\HH$-structured category.
  \item If $(\CC^\bullet,s)$ is an $\HH$-structured category, then the categories of \todo of $\CC^\bullet$ are $\HH$-structured categories.
\end{itemize}

All of these theorems use the additional hypothesis that $(\MM,p,\HH,\Gamma)$ is a category of homomorphisms \unsure{right resolved?} (that is, $\HH$ contains ``enough'' substructures).

The second part of this article (to appear soon) will contain the theory of species of structured structures;
we will show how the \unsure{complete enlargement} procedure of an inductive groupoid can be generalised to species of structured structures.
We will then give some applications of all these concepts to more specific problems.



\section{Categories of homomorphisms and substructures}
\label{section:i}

\subsection{Conventions}
\label{section:i.1}

A category will be in general represented by the symbol denoted the underlying class (or \emph{support}) of the category along with the symbol for the composition law that makes this class a category as a superscript.
For example: $\CC^\perp$, $\CC_1^\perp$, $\bar{\CC}^\perp$ (resp. $\CC^\bullet$, $\CC_1^\bullet$, $\bar{\CC}^\bullet$), \ldots denote the categories obtained by endowing the class $\CC$, $\CC_1$, $\bar{\CC}$, \ldots with the composition law $\perp$ (resp. $\bullet$).
The class of units of a category will be denoted by the symbol representing the category along with a $0$ as a subscript.
For example: $\CC_0^\perp$, $(\CC_1^\perp)_0$, $\bar{\CC}_0^\perp$, \ldots.
If a class of objects is naturally associated to the category (for example, the classes in a category of maps from one class to another), then we will tacitly identify the units with the corresponding objects.

Let $\CC^\perp$ be a category.
The source and target maps that send an element $f\in\CC^\perp$ to its right and left units will be denoted $\alpha^\perp$ and $\beta^\perp$ (respectively).
The class of pairs $(g,f)$ such that the composite $g\perp f$ is defined (that is, such that $\alpha^\perp(g)=\beta^\perp(f)$) will be denoted by the symbol $\CC^\perp\star\CC^\perp$;
the map
\[
  (g,f) \longmapsto g\perp f
  \qquad\text{where $(g,f\in\CC^\perp\star\CC^\perp)$}
\]
will be denoted by the symbol $\comp^\perp$.

\oldpage{351}
To simplify notation, if no confusion is possible, we will represent a category by the same symbol as its underlying class;
in this case, it is to be understood that the composition law is denoted by $\bullet$;
we thus write $\CC$ instead of $\CC^\bullet$.
Similarly, we will also write $\CC_0$, $\alpha$, and $\beta$ instead of $\CC_0^\bullet$, $\alpha^\bullet$, and $\beta^\bullet$ (respectively).

Let $\bar{C}^\perp$ and $\CC^\perp$ be two categories;
the word ``functor'' will always mean a contravariant functor.
A functor from $\CC^\perp$ to $\bar{\CC}^\perp$ will be denoted either by a triple $(\bar{\CC}^\perp,F,\CC^\perp)$, where $F$ is the corresponding map, or by just the letter $F$.
The restriction of $F$ to the class $\CC_0^\perp$, considered as a map from $\CC_0^\perp$ to $\bar{\CC}_0^\perp$, will be denoted $F_0$.



\subsection{Reminder on species of structures}
\label{section:i.2}

Since the notion of species of structures \cite{3a} is essential in this article, we will recall the definition and main properties.

\begin{rmenv}{Definition 1}
  We say that a category $\CC$ is a \emph{category of operators on a class $\Sigma_0$} if we have defined a composition law $(f,z)\mapsto fz$ for certain pairs $(f,z)\in\CC\times\Sigma_0$ such that $fz\in\Sigma_0$ and such that the following axioms are satisfied:
  \begin{enumerate}
    \item[1.]
      \emph{Associativity.}
      If one of $g(fz)$ or $(g\bullet f)z$ is defined, then both of them are defined, and
      \[
        g(fz)
        = (g\bullet f)z;
      \]
    \item[2.]
      If $g\bullet f$ and $fz$ are defined, then $g(fz)$ is defined;
    \item[3.]
      Let $e\in\CC_0$;
      if $ez$ is defined, then $ez=z$;
    \item[4.]
      \begin{enumerate}
        \item[(a)]
          For all $z\in\Sigma_0$, there exists at least one $f\in\CC$ such that $fz$ is defined;
        \item[(b)]
          For all $f\in\CC$, there exists at least one $z\in\Sigma_0$ such that $fz$ is defined.
      \end{enumerate}
  \end{enumerate}
\end{rmenv}

These axioms imply that, for all $z\in\Sigma_0$, there exists exactly one $e\in\CC_0$ such that $ez$ is defined;
we thus obtain a map $p_0\colon z\mapsto e$ from $\Sigma_0$ to $\CC_0$;
we say that $z$ is a \emph{structure} on $p_0(z)$.

\begin{rmenv}{Definition 2}
  Let $\Sigma_0$ be a class, and $\CC$ a category;
  we say that $\Sigma_0$ is a \emph{species of structures over $\CC$} if we have a subcategory $\CC_1$ of $\CC$ that is a category of operators on $\Sigma_0$;
  let $p_0$ be the corresponding map from $\Sigma_0$ to $\CC_0$;
  we also say that $(\CC,p_0,\Sigma_0)$ is a \emph{species of structures}.
  If, further, $\CC_1=\CC$, then we say that $[\CC,p_0,\Sigma_0]$ is a \emph{species of structures on $\CC$}.
\end{rmenv}

Let $(\CC,p_0,\Sigma_0)$ be a species of structures.
Let $\Sigma$ be the class of pairs $(f,z)\in\CC\times\Sigma_0$ such that $fz$ is defined, i.e. such that $\alpha(f)=p_0(z)$.
Endowed with the composition law
\[
  (f',z')\bullet(f,z)
  = (f'\bullet f,z)
  \quad\text{if and only if}\quad
  z'=fz,
\]
\oldpage{352}
$\Sigma$ is a category, called the \emph{associated category of hypermorphisms} of the species of structures $(\CC,p_0,\Sigma_0)$.
The class of units of $\Sigma$ can be identified with $\Sigma_0$ by associating $(e,z)$ with $z$.
The map $p_0$ extends to a functor $(\CC,p,\Sigma)$ satisfying the following property:
\begin{enumerate}
  \item[(E)] \itshape
    For all $h\in\Sigma$ and all $z\in\Sigma_0$ such that
    \[
      p_0(z)
      = p_0(\alpha(h))
    \]
    there exists exactly one $h'\in\Sigma$ such that
    \[
      p(h')=p(h)
      \quad\text{and}\quad
      \alpha(h')=z.
    \]
\end{enumerate}
The species of structures $(\CC,p_0,\Sigma_0)$ is also denoted by $(\CC,p,\Sigma)$.

Conversely, let $\CC$ and $\Sigma$ be two categories.
Let $(\CC,p,\Sigma)$ be a functor satisfying condition~(E);
we say that $\Sigma$ is a \emph{category over $\CC$ with respect to $p$}.
We can show \cite{3a} that $p(\Sigma)$ is a subcategory of $\CC$, and that the map
\[
  h\longmapsto \big(p(h),\alpha(h)\big)
\]
lets us identify $\Sigma$ with the associated category of hypermorphisms of the species of structures $(\CC,p_0,\Sigma_0)$ in which the composition law is defined by
\[
  (f,z) \longmapsto \beta(h)
\]
if and only if there exists $h\in\Sigma$ such that
\[
  f=p(h)
  \quad\text{and}\quad
  z=\alpha(h).
\]



\subsection{Species of structures enriched in a category}
\label{section:i.3}

We denote by $\MM_0$ a class of classes such that if it contains $X$ then it also contains all the subsets of $X$.
Then $\MM_0$ can be identified with a class of units of the category $\MM$ whose elements are triples $(M',f,M)$ such that $M,M'\in\MM_0$ and $f$ is a surjection from $M$ onto a subclass of $M'$, and with the composition law defined by
\[
  (M'',f',M'_1)\bullet(M',f,M)
  = (M'',f'f,M)
  \quad\text{if and only if}\quad
  M'_1=M'
\]
where $f'f$ denotes the surjection
\[
  x\longmapsto f'(f(x)).
\]
If $\bar{f}=(M',f,M)$, then we also write $\bar{f}(x)$ to mean $f(x)$.

Let $(\CC,p,\Sigma)$ be a species of structures such that $p^{-1}(e)$ belongs to $\MM_0$ for all $e\in p_0(\Sigma_0)$.
Let $f\in p(\Sigma)$ and set
\[
  \begin{aligned}
    e&=\alpha(f),
  \\e'&=\beta(f).
  \end{aligned}
\]
Set
\[
  F(f)
  = \big(p^{-1}(e'),\widetilde{f},p^{-1}(e)\big)
  \in\MM
\]
\oldpage{353}
where
\[
  \widetilde{f}(z)
  =fz
  \qquad\text{for all $z$ such that $p(z)=e$;}
\]
then $F(e)$ can be identified with $p^{-1}(e)$.
If $f$ is an invertible element of $p(\Sigma)$, then the map $\widetilde{f}$ is a bijection from $F(e)$ to $F(e')$.
The map $F\colon f\mapsto F(f)$ for $f\in p(\Sigma)$ is a functor from $\alpha(F)=p(\Sigma)$ to $\MM$ satisfying the axiom
\begin{enumerate}
  \item[(A)] \itshape
    Let $e,e'\in\alpha(F)_0$; then
    \[
      F(e)\neq\varnothing;
    \]
    further, if $e\neq e'$ then
    \[
      F(e)\cap F(e')=\varnothing.
    \]
\end{enumerate}
Furthermore, the pair $(\CC,F)$ entirely determines $(\CC,p,\Sigma)$.

Conversely, let $(\CC,F)$ be a pair such that $F$ is a functor from a subcategory $\alpha(F)$ of $\CC$ to $\MM$ satisfying condition~(A).
We can show \cite{3a} that the class $\Sigma_0$, given by the union of the classes $F(e)$ over all $e\in\alpha(F)_0$, is a species of structures over $\CC$, in which the composition law is defined by
\[
  (f,z)\longmapsto F(f)(z)
  \quad\text{if and only if}\quad
  z\in F(\alpha(f)).
\]
We say that $(\CC,F)$ is a \emph{a pair defining a species of structures}, namely the species of structures $\Sigma_0$ constructed above.

\begin{rmenv}{Remarks}
  ---
  \begin{enumerate}
    \item[1.]
      Let $\CC$ be a category, $\alpha(F)$ a subcategory, and $(\MM,F,\alpha(F))$ a functor.
      Let $\bar{F}$ be the functor that sends $f\in\alpha(F)$ to the map
      \[
        (\alpha(f),z)
        \longmapsto\big(\beta(f),F(f)(z)\big)
        \qquad\text{where $z\in F(\alpha(f))$.}
      \]
      The pair $(\CC,\bar{F})$ defines the species of structures $(\CC,p_0,\Sigma_0)$, where $\Sigma_0$ is the class of pairs $(e,z)$ such that $e\in\alpha(F)_0$, $z\in F(e)$, and
      \[
        p_0(e,z)=e.
      \]
    \item[2.]
      Let $(\CC,F)$ be a pair defining a species of structures $(\CC,p,\Sigma)$ such that $\alpha(F)$ contains $f\in\CC$ whenever $\alpha(f)\in\alpha(F)$;
      this is equivalent to saying that we are given a composition law between the category $\CC$ and the class $\Sigma_0$ that satisfies axioms~(1), (2), (3), and (4a) of Definition 1.
      We can extend $F$ to a functor $(\MM,\bar{F},\CC)$ given by
      \[
        \begin{aligned}
          \bar{F}(f)&=F(f)
          \qquad&&\text{for all $f\in\alpha(F)$;}
        \\\bar{F}(e)&=\varnothing
          \qquad&&\text{for all $e\in\CC_0$ and $e\not\in\alpha(F)_0$;}
        \\\bar{F}(f')&=\big(\bar{F}(\beta(f')),\varnothing,\varnothing)
          \qquad&&\text{for all $f'\not\in\alpha(F)$.}
        \end{aligned}
      \]
    \item[3.]
      Let $\CC^\bullet$ be a category;
      the triple $(\CC^\bullet,\beta,\CC)$ is a species of structures for the composition law $\bullet$;
      if $e\in\CC_0^\bullet$ then the triple $(\CC^\bullet,\beta,\alpha^{-1}(e))$ is a sub-species of structures \cite{3a} of $(\CC^\bullet,\beta,\CC)$.
  \end{enumerate}
\end{rmenv}

\oldpage{354}
Let $(\CC^\bullet,F_e)$ be the pair defining the species of structures $(\CC^\bullet,\beta,\alpha^{-1}(e))$, and $\bar{F}_e$ the functor associated to $F_e$ by Remark~2 above.
A functor $(\MM,G,\CC^\bullet)$ is said to be representable \cite{2} if there exists some $e\in\CC_0^\bullet$ such that $G$ and $\bar{F}_e$ are induced from one another by a natural equivalence.
To every pair $(\CC,F)$ that defines a species of structures $(\CC,p,\Sigma)$, we can associated a representable functor $\bar{F}$ in the following way:

Let $a$ be an arbitrary element that does not belong to $\CC$.
Let $\CC'_1$ be the class of pairs $(z,a)$, where $z\in\Sigma_0$.
Let $\CC'$ be the class given by the union of $\CC$, $\{a\}$, and $\CC'_1$.
This class is a category for the composition law
\[
  (\gamma',\gamma)
  \longmapsto\gamma'\bullet\gamma
\]
if and only if one of the following conditions is satisfied:
\begin{enumerate}
  \item[1.]
    $\gamma,\gamma'\in\CC$ and $\alpha(\gamma')=\beta(\gamma)$;
    then $\gamma'\bullet\gamma$ is the composition of $\gamma'$ and $\gamma$ in $\CC$;
  \item[2.]
    $\gamma'\in\CC$, $\gamma=(z,a)$, and $z\in F(\alpha(\gamma'))$;
    then
    \[
      \gamma'\bullet\gamma
      =(\gamma'z,a)
    \]
  \item[3.]
    $\gamma'=(z,a)$ and $\gamma=a$;
    then
    \[
      \gamma'\bullet\gamma
      =(z,a).
    \]
\end{enumerate}
Remark~2 then allows us to extend $F$ to a functor $(\MM,\bar{F},\CC')$;
this functor $\bar{F}$, which is identical to $(\MM,\bar{F}_a,\CC')$, is representable.

\begin{rmenv}{Definition 3}
  Let $\CC$ be a category, and $(\MM,\gamma,\KK)$ a functor.
  We define a \emph{species of structures enriched in $(\gamma,\KK)$} to be a pair $(\CC,F)$ such that $(\KK,F,\alpha(F))$ is a functor and $(\CC,\gamma F)$ defines a species of structures;
  the species of structures defined by $(\CC,\gamma F)$ is called the \emph{species of structures \unsure{under/for} $(\CC,F)$}.
\end{rmenv}

We will later return to the notion of a species of structures enriched in a category (Sections~III and IV).
For now, we will only consider particular cases.

Let $\FF$ be the category of all functors $(\bar{\SS}^\bullet,G,\SS^\bullet)$ such that $(\bar{\SS},G,\SS)\in\MM$;
let $(\MM,p_\FF,\FF)$ be the functor defined by
\[
  p_\FF\colon(\bar{\SS}^\bullet,G,\SS^\bullet)
  \longmapsto (\bar{\SS},G,\SS).
\]

\begin{rmenv}{Definition 4}
  A species of structures enriched in $(p_\FF,\FF)$ is called a \emph{species of morphisms}.
\end{rmenv}

Let $(\CC,p,\Sigma)$ be a species of structures.
Consider the following conditions:
\begin{enumerate}
  \item[(a)]
    $(\CC,p,\Sigma)$ is the species of structures \unsure{under} a species of morphisms $(\CC,F)$.
  \oldpage{355}
  \item[(b)]
    \begin{enumerate}
      \item[(b\textsubscript{1})]
        For all $e\in p(\Sigma_0)$, the class $p^{-1}(e)$ is endowed with the structure of a category $(p^{-1}(e))^\perp$, which we denote by $F(e)$;
      \item[(b\textsubscript{2})]
        Let $f\in p(\Sigma)$, $e=\alpha(f)$, and $e'=\beta(f')$;
        then $(F(e'),\widetilde{f},F(e))$ is a functor $F(f)$.
    \end{enumerate}
  \item[(c)]
    \begin{enumerate}
      \item[(c\textsubscript{1})]
        $(\Sigma_0)^\perp$ is a category;
      \item[(c\textsubscript{2})]
        If $(z',z)\in(\Sigma_0)^\perp\star(\Sigma_0)^\perp$ and $(f,z'\perp z)\in\Sigma$ then
        \[
          (f,z),(f,z')\in\Sigma
          \quad\text{and}\quad
          f(z'\perp z)=fz'\perp fz;
        \]
      \item[(c\textsubscript{3})]
        If $z_0\in(\Sigma_0)_0^\perp$ and $(f,z_0)\in\Sigma$, then
        \[
          fz_0\in(\Sigma_0)_0^\perp.
        \]
    \end{enumerate}
\end{enumerate}

\begin{itenv}{Proposition 1}
\label{proposition:1}
  Conditions~(a), (b), and (c) above are equivalent.
\end{itenv}

\begin{proof}
  Conditions~(a) and (b) are equivalent by definition.
  If they are satisfied, then the category $(\Sigma_0)^\perp$ given by the sum of the categories $F(e)$ for $e\in p(\Sigma_0)$ satisfies condition~(c).
  Conversely, suppose that condition~(c) is satisfied.
  Let $z,z'\in\Sigma_0$.
  If $z'\perp z$ is defined, then $p(z'\perp z)$ \unsure{typo?} is defined and, by (c\textsubscript{2}), we have
  \[
    p(z'\perp z)
    = p(z')
    = p(z);
  \]
  in particular,
  \[
    p(\alpha^\perp(z))
    = p(\beta^\perp(z))
    = p(z);
  \]
  thus $p^{-1}(e)$ is a subcategory of $(\Sigma_0)^\perp$ for all $e\in p(\Sigma_0)$.
  Let $f\in p(\Sigma)$ be such that $\alpha(f)=e$;
  conditions~(c\textsubscript{2}) and (c\textsubscript{3}) imply that the map $\widetilde{f}$ is a functor from $p^{-1}(e)$ to $p^{-1}(\beta(f))$.
  Thus (b) is satisfied.
\end{proof}

\begin{itenv}{Corollary}
  If we suppose conditions~(c\textsubscript{1}) and (c\textsubscript{2}) to be satisfied, and if $p(\Sigma)$ (resp. $\Sigma_0^\perp$) is a groupoid, then condition~(c\textsubscript{3}) is also satisfied.
\end{itenv}

\begin{proof}
  If $(f,z_0)\in\Sigma$ and $z_0\in(\Sigma_0)_0^\perp$ then
  \[
    fz_0
    = f(z_0\perp z_0)
    =fz_0\perp fz_0.
  \]
  If $(\Sigma_0)^\perp$ is a groupoid, then it follows that $fz_0\in(\Sigma_0)_0^\perp$.
  Suppose that $p(\Sigma)$ is a groupoid;
  from the sequence of equalities
  \[
    \begin{aligned}
      f^{-1}(fz_0)
      &= f^{-1}(fz_0\perp\alpha^\perp(fz_0))
    \\&= (f^{-1}\bullet f)z_0\perp f^{-1}(\alpha^\perp(fz_0))
    \\&= f^{-1}(\alpha^\perp(fz_0))
    \end{aligned}
  \]
  we deduce that
  \[
    fz_0
    = \alpha^\perp(fz_0)
    \in(\Sigma_0)_0^\perp
  \]
  and so (c\textsubscript{3}) is satisfied.
\end{proof}

Let $A$ be a class endowed with an order relation $<$;
the class of pairs $(z',z)$ with $z<z'$ is a category under the composition law given by
\[
  (z'',z'_1)\perp(z',z)
  =(z'',z)
  \quad\text{if and only if}\quad
  z'_1=z'.
\]
\oldpage{356}
Conversely, if $\CC$ is a category such that any two elements $f,f'\in\CC$ that have the same set of units in $\CC$ are identical, then the data of $\CC$ defines on $\CC_0$ the order relation given by
\[
  \begin{gathered}
    z<z'
    \qquad\text{if and only if there exists $f\in\CC$ such that}
  \\z=\alpha(f)
    \quad\text{and}\quad
    z'=\beta(f).
  \end{gathered}
\]
We then say that the category $\CC$ \emph{defines} an \emph{order} on $\CC$.

Let $\Omega_0$ be the class of ordered classes $(A,<)$, where $A\in\MM_0$;
let $\widetilde{\Omega}$ be the category of triples $((A',<),h,(A,<))$, where $(A,<),(A',<)\in\Omega_0$ and where $h$ is a map from $A$ to $A'$ that is compatible with the orders on $A$ and $A'$.
Let $\omega$ be the map
\[
  \big((A',<),h,(A,<)\big)
  \longrightarrow (A',h,A);
\]
then $(\MM,\omega,\widetilde{\Omega})$ is a functor.

\begin{rmenv}{Definition 5}
  If a species of structures $(\CC,F)$ is enriched in $(\omega,\widetilde{\Omega})$, then we call it an \emph{ordered species of structures} \unsure{or species of ordered structures?};
  if $\CC$ further defines an order on $\CC_0$, then we say that $(\CC,F)$ is a \emph{bi-ordered species of structures} \unsure{again, which noun does bi-ordered modify?}.
\end{rmenv}

Let $((\bar{A},<),h,(A,<))\in\widetilde{\Omega}$;
let $\AA$ (resp. $\bar{\AA}$) be the category of pairs defining the order of $A$ (resp. of $\bar{A}$);
let $\bar{h}$ be the map
\[
  (z',z)
  \longmapsto(h(z'),h(z))
  \qquad\text{where $(z',z)\in\AA$;}
\]
then $(\bar{\AA},\bar{h},\AA)$ is a functor, and the map
\[
  \eta\colon\big((\bar{A},<),h,(A,<)\big)
  \longmapsto(\bar{\AA},\bar{h},\AA)
\]
is an equivalence from $\widetilde{\Omega}$ to a full subcategory $\widehat{\Omega}$ of $\FF$ whose units are the categories $\SS$ that define an order on $\SS_0$.
The map \unsure{is this right?}
\[
  (\CC,F)
  \longmapsto (\CC,(\FF,\eta,\widetilde{\Omega})F),
\]
where $(\CC,F)$ is an ordered species of structures, is a bijection from the class of ordered species of structures to the class of species of morphisms $(\CC,\widehat{F})$ such that
\[
  \widehat{F}(\alpha(\widehat{F}))
  \subset \widehat{\Omega}
  \subset \FF.
\]



\subsection{Reminder on categories of homomorphisms}
\label{section:i.4}

\begin{rmenv}{Definition 6}
  Let $\CC$ and $\HH$ be two categories;
  we say \cite{3a} that $(\CC,p,\HH,\SS)$ is a \emph{category of homomorphisms} if the following conditions are satisfied:
  \begin{enumerate}
    \item[1.]
      $(\CC,p,\HH)$ is a functor;
    \item[2.]
      \oldpage{357}
      $\SS$ is a subcategory of $\HH$ that contains $\HH_0$;
    \item[3.]
      $(\CC,p',\SS)$ is a species of structures, where $p'$ denotes the restriction of $p$ to $\SS$;
    \item[4.]
      If $h,h'\in\HH$, then the relations
      \[
        \begin{aligned}
          \alpha(h)
          &= \alpha(h'),
        \\\beta(h)
          &= \beta(h'),
        \\p(h)
          &= p(h'),
        \end{aligned}
      \]
      imply that $h=h'$.
  \end{enumerate}
\end{rmenv}

Let $(\CC,p,\HH,\SS)$ be a category of homomorphisms.
An element $h\in\HH$ can be identified, by condition~(4), with a triple $(S',f,S)$, where
\[
  \begin{aligned}
    S
    &= \alpha(h) \in\HH_0,
  \\S'
    &= \beta(h) \in\HH_0,
  \\f
    &= p(h)\in\CC.
  \end{aligned}
\]
We usually represent an element of $\HH$ by such a triplet.
Note that we thus identify $\HH$ with a subcategory of the induced category $p_0^*(\CC)$ whose elements are the triples $(S',f,S)$ such that $S,S'\in\HH_0$, $f\in\CC$, and
\[
  \alpha(f)=p(S)
  \quad\text{and}\quad
  \beta(f)=p(S').
\]
Since an element of $\SS$ is entirely determined by the data of $\alpha(h)$ and $p(h)$, we write such elements either in the form $(\beta(h),p(h),\alpha(h))$ or in the form $(p(h),\alpha(h))$.
If $\SS$ is the groupoid of invertible elements of $\HH$, then $\HH$ is a species of structures \unsure{over} $\SS\times\SS$ with the composition law
\[
  \begin{gathered}
    \big((\bar{f}',\bar{f}),h\big)
    \longmapsto\bar{f}'\bullet h\bullet\bar{f}^{-1}
    \qquad\text{if and only if}
  \\\alpha(\bar{f})=\alpha(h)
    \quad\text{and}\quad
    \alpha(\bar{f}')=\beta(h)
  \end{gathered}
\]
where $h\in\HH$ and $\bar{f},\bar{f}'\in\SS$.

Let $(\CC,p,\HH,\SS)$ be a category of homomorphisms;
let $\SS_\gamma$ and $\CC_\gamma$ be the groupoids of invertible elements of $\SS$ and $\CC$ (respectively).
If $p(\SS_\gamma)$ is a saturated \cite{3a} subgroupoid of $\CC$, i.e. if
\[
  \big[f\in\CC_\gamma
  \quad\text{and}\quad
  \alpha(f)\in p(\SS_\gamma)\big]
  \implies
  f\in p(\SS_\gamma),
\]
then we say that $\HH$ is \emph{saturated over $\CC$}.

In particular, let $(\MM,p,\HH,\SS)$ be a category of homomorphisms such that $\MM$ is the category defined in \cref{section:i.2}.
Let $h\in\HH$;
the element $p(h)$ is, by definition, a map $(p(\beta(h)),g,p(\alpha(h)))$, where $g$ is a surjection.
Since the data of $\alpha(h)$, $\beta(h)$, and $g$ all together entirely determine $p(h)$, we simply represent $h$ by the triple $(\beta(h),g,\alpha(h))$ instead of by $(\beta(h),p(h),\alpha(h))$.
If $h$ is such that
\[
  p(\alpha(h))
  \subset p(\beta(h))
\]
and if $p(h)$ is the canonical injection from $p(\alpha(h))$ to $p(\beta(h))$, then we write $h$ as $(\beta(h),\iota,\alpha(h))$, i.e. $\iota$ denotes the identity map on $p(\alpha(h))$

\begin{rmenv}{Examples}
  ---
  \begin{enumerate}
    \item[1.]
      \oldpage{358}
      Let $(\MM,p_\FF,\FF)$ be the functor defined in \cref{section:i.2};
      let $\FF_\gamma$ be the groupoid of invertible elements of $\FF$ (equivalences of functors);
      then $(\MM,p_\FF,\FF,\FF_\gamma)$ is a category of homomorphisms.
    \item[2.]
      Let $\TT_0$ be the class of topologies (or ``metatopologies'', in the terminology of \cite{3b}) on the classes $M\in\MM_0$;
      let $\widetilde{\TT}$ be the category of continuous maps $(S',f,S)$ from $S$ to $S'$, where $S$ is a topology on the class $M$, and $S'$ a topology on $M'$.
      Let $\theta$ be the functor
      \[
        (S',f,S)
        \longmapsto(M',f,M).
      \]
      Let $\TT$ be the groupoid of invertible elements of $\widetilde{\TT}$ (homeomorphisms);
      then $(\MM,\theta,\widetilde{\TT},\TT)$ is a category of homomorphisms.
    \item[3.]
      Let $(\MM,\omega,\widetilde{\Omega})$ be the functor defined in \cref{section:i.2};
      let $\Omega$ be the groupoid of invertible elements of $\widetilde{\Omega}$ (isomorphisms between ordered classes);
      then $(\MM,\omega,\widetilde{\Omega},\Omega)$ is a category of homomorphisms.
    \item[4.]
      Let $\CC$ be any category;
      then $(\CC,\Id_\CC,\CC,\CC)$ is a category of homomorphisms, where $\Id_\CC$ denotes the identity functor on $\CC$.
  \end{enumerate}
\end{rmenv}



\subsection{Substructures}
\label{section:i.5}

Let $(\CC,p,\HH,\SS)$ be a category of homomorphisms such that $\SS$ contains the groupoid $\Gamma$ of invertible elements of $\HH$.

On $\HH_0$, consider the relation $\relrho$
\[
  s\relrho s'
  \quad\text{if and only if}\quad
  (s',p(s),s)\in\HH.
\]
This relation evidently implies that $p(s)=p(s')$.

\begin{itenv}{Proposition 2}
  The relation $\relrho$ is an order relation on $\HH_0$, and $(\CC,p,\Gamma)$ is the species of structure \unsure{over} $(\CC,F)$ such that
  \[
    F(e)
    = (p^{-1}(e),\relrho_e)
    \qquad\text{for all $e\in\alpha(F)_0$}
  \]
  where $\relrho_e$ is the order relation induced by $\relrho$ on $p^{-1}(e)$.
\end{itenv}

\begin{proof}
  If $s\relrho s'$ and $s'\relrho s''$ then
  \[
    (s'',p(s'),s')\bullet(s',p(s),s)
    = (s'',p(s),s)
    \in\HH
  \]
  whence $s\relrho s''$.
  Suppose that $s\relrho s'$ and $s'\relrho s$;
  then
  \[
    (s,p(s'),s')\bullet(s',p(s),s)
    = (s,p(s),s)
    = s
  \]
  and
  \[
    (s',p(s),s)\bullet(s,p(s'),s')
    = s'
  \]
  thus
  \[
    (s',p(s),s)\in\Gamma.
  \]
  \oldpage{359}
  Since $(\CC,p,\Gamma)$ is a species of structures, from the equalities
  \[
    \alpha(s',p(s),s)=s
    \quad\text{and}\quad
    p(s',p(s),s)=p(s)
  \]
  we deduce that $(s',p(s),s)=s$;
  thus $s'=s$ and $\relrho$ is an order relation;
  the category of pairs that defines $\relrho$ can be identified with the subcategory $\HH_{\relrho}$ consisting of elements $(s',p(s),s)$ by identifying $(s',s)$ with $(s',p(s),s)$.
  If $(s',p(s),s)\in\HH_{\relrho}$ and $f\in p(\Gamma)$, then the equality
  \[
    \alpha(f)=p(s)
  \]
  guarantees the existence of $(\bar{s},f,s),(\bar{s}',f,s')\in\Gamma$;
  then
  \[
    (\bar{s}',f,s')\bullet(s',p(s),s)\bullet(s,f^{-1},\bar{s})
    = (\bar{s}',f\bullet p(s)\bullet f^{-1},\bar{s})
    = (\bar{s}',p(\bar{s}),\bar{s})
    \in\HH.
  \]
  Consequently, $p(\Gamma)$ acts on $\HH_{\relrho}$, with the composition law
  \[
    (f,(s',p(s),s))
    \longmapsto (\bar{s}',p(\bar{s}),\bar{s})
    \quad\text{if and only if}\quad
    \alpha(f)=p(s).
  \]
  Then $(p(\Gamma),p,\HH_{\relrho})$ is the species of structures \unsure{under} a species of morphisms, and the proposition follows from the end of \cref{section:i.2}.
\end{proof}

From now on, suppose that $\CC$ is an inductive category (in the sense of \cref{section:ii.6}, which is slightly more general than that of \cite{3c}).
If $g,f\in\CC$, then their pseudo-product in $\CC$, which is always defined (cf. \cref{section:ii}, Proposition~22), is denoted by $gf$.

Consider on $\HH_0$ the relation
\[
  \begin{gathered}
    s\relrhobar S
    \quad\text{if and only if}\quad
  \\\big[p(s)<p(S)
    \quad\text{and}\quad
    (S,p(S)p(s),s)\in\HH\big];
  \end{gathered}
\]
the relations induced by $\relrhobar$ and $\relrho$ on $p^{-1}(e)$ are identical, for all $e\in p(\HH_0)$.
The relation $p(s)<p(S)$ implies that
\[
  \alpha(p(S)p(s))
  = p(s);
\]
if, further, $(S,p(S)p(s),s)\in\HH$, then we also have that
\[
  \beta(p(S)p(s))
  = p(S).
\]

\begin{itenv}{Proposition 3}
  The relation $\relrhobar$ is an order relation on $\HH_0$;
  if $s\relrhobar S$, then $s$ is a sub-object \cite{5} of $S$ in $\HH$.
\end{itenv}

\begin{proof}
  Suppose that $s\relrhobar S$.
  If, further, $S\relrhobar s$, then
  \[
    p(S)=p(s)
  \]
  whence $s\relrho S$ and $S\relrho s$, i.e. $s=S$, by Proposition~2.
  Suppose that $s'\relrhobar s$;
  from the relations
  \[
    \begin{aligned}
      k
      &= (p(S)p(s))\bullet(p(s)p(s'))
      < p(S)p(s'),
    \\\alpha(k)&=p(s'),
    \\\beta(k)&=p(S),
    \end{aligned}
  \]
  it follows that
  \[
    k=p(S)p(s')
    \quad\text{and}\quad
    (S,p(S)p(s'),s')\in\HH
  \]
  thus $s'\relrhobar S$.
  \oldpage{360}
  Let $\bar{g}=(s,g,S')$ and $\bar{g}'=(s,g',S')$ be such that
  \[
    (S,p(S)p(s),s)\bullet\bar{g}
    = (S,p(S),p(s),s)\bullet\bar{g}'.
  \]
  From the relations
  \[
    \begin{gathered}
      (p(S)p(s))\bullet g = (p(S)p(s))\bullet g',
    \\g < (p(S)p(s))\bullet g
      \quad\text{and}\quad
      g' < (p(S)p(s))\bullet g',
    \\\alpha(g)=\alpha(g')
      \quad\text{and}\quad
      \beta(g)=\beta(g'),
    \end{gathered}
  \]
  we deduce that $g=g'$.
  Thus $\bar{g}=\bar{g}'$, which implies that $s$ is a sub-object of $S$ in $\HH$.
\end{proof}

The notion of \emph{substructure} that we will now define makes precise the notion of sub-object of a category.

\begin{rmenv}{Definition 7}
  Let $S\in\HH_0$;
  we say that $s\in\HH_0$ is a \emph{substructure of $S$ in $(\CC,p,\HH,\SS)$}, and we write $s\subs_p S$, if the following conditions are satisfied:
  \begin{enumerate}
    \item[1.]
      $p(s)<p(S)$ and $(S,p(S)p(s),s)\in\HH$;
    \item[2.]
      If $(S,g,S')\in\HH$ is such that
      \[
        \alpha(p(s)g)=\alpha(g)
        \quad\text{and}\quad
        \beta(p(s)g)=p(s)
      \]
      then
      \[
        (s,p(s)g,S')\in\HH.
      \]
  \end{enumerate}
  If $s\subs_pS$, then we also write
  \[
    (S,p(S)p(s),s)
    = S\sups_p s
  \]
  and we say that $S\sups_p s$ is a \emph{$p$-injection}.
  We write $H_{\subs_p}$ to mean the class of $p$-injections.
\end{rmenv}

If there is no risk of confusion, then we simply say that $s$ is a substructure of $S$ in $\HH$, and we write $s\subs S$ and $S\sups s$ instead of $s\subs_p S$ and $S\sups_p s$ (respectively).

\begin{itenv}{Proposition 4}
  Let $s,S\in\HH_0$;
  then $s\subs_p S$ if and only if the following conditions are satisfied:
  \begin{enumerate}
    \item[1\textquotesingle.]
      $s\relrhobar S$ in $(\CC,p,\HH,\SS)$;
    \item[2\textquotesingle.]
      If $(S,(p(S)p(s))\bullet g',S')\in\HH$ then $(s,g',S')\in\HH$.
  \end{enumerate}
\end{itenv}

\begin{proof}
  Suppose that $s\subs_p S$;
  condition~(1) of Definition~7 implies that $s\relrhobar S$ in $(\CC,p,\HH,\SS)$.
  Let
  \[
    (S,p(S)p(s)\bullet g',S')\in\HH.
  \]
  We will show that the elements $g'$ and $g'_1=p(s)(p(S)p(s)\bullet g')$ are equal.
  We have that $p(s)<p(S)p(s)$, so
  \[
    g'
    = p(s)\bullet g'
    < (p(S)p(s))g'
  \]
  whence
  \[
    g'
    = p(s)\bullet g'
    < p(s)(p(S)p(s)g');
  \]
  \oldpage{361}
  but also
  \[
    \alpha(g'_1)<\alpha(g')
    \quad\text{and}\quad
    \beta(g'_1)<p(s)=\beta(g')
  \]
  whence
  \[
    \begin{aligned}
      \alpha(g'_1)
      &= \alpha(g')
      = p(S'),
    \\\beta(g'_1)
      &= \beta(g')
      = p(s).
    \end{aligned}
  \]
  Since $(\CC,<)$ is an inductive category, the relations
  \[
    \begin{aligned}
      g'
      &< g'_1,
    \\\alpha(g')
      &= \alpha(g'_1),
    \\\beta(g')
      &= \beta(g'_1),
    \end{aligned}
  \]
  imply that $g'=g'_1$.
  It then follows from condition~(2) of Definition~7 that $(s,g',S')\in\HH$, and so condition~(2\textquotesingle) is satisfied.
  Conversely, suppose that conditions~(1\textquotesingle) and (2\textquotesingle) are satisfied;
  let $(S,g,S')\in\HH$ be such that
  \[
    \alpha(p(s)g)=\alpha(g)
    \quad\text{and}\quad
    \beta(p(s)g)=p(s).
  \]
  By using the relations
  \[
    \begin{gathered}
      (p(S)p(s))\bullet(p(s)g)<g,
    \\\alpha\big((p(S)p(s))\bullet(p(s)g)\big)=\alpha(g),
    \\\beta(g)=\beta\big((p(S)p(s))\bullet(p(s)g)\big)=p(S)
    \end{gathered}
  \]
  we see that $g=(p(S)p(s))\bullet(p(s)g)$.
  From condition~(2\textquotesingle) we thus deduce that
  \[
    (s,p(s)g,S')\in\HH
  \]
  i.e. $s\subs_p S$.
\end{proof}

\begin{rmenv}{Examples}
  ---
  \begin{enumerate}
    \item[1.]
      The sub-structures of $S$ in $(\MM,\theta,\widetilde{\TT},\TT)$ are the topologies induced by $S$ on the subclasses of $\theta(S)$.
      Let $\widetilde{\TT_u}$ be the subcategory of $\widetilde{\TT}$ consisting of open continuous maps from one topological space to another;
      let $\theta_u$ be the restriction of $\theta$ to $\widetilde{\TT}_u$;
      then $(\MM,\theta_u,\widetilde{\TT}_u,\TT)$ is a category of homomorphisms.
      The sub-structures of $S$ in $(\MM,\theta_u,\widetilde{\TT}_u,\TT)$ are the topologies induced by $S$ on an open of $S$, i.e. the elements that are smaller than $S$ in the order relation considered in \cite{3c} on $\widetilde{\TT}$.
    \item[2.]
      The sub-structures of $\CC^\perp$ in $(\MM,p_\FF,\FF,\FF_\gamma)$ are the subcategories of $\CC^\perp$ (see Proposition~9 in \cref{section:ii}).
    \item[3.]
      The sub-structures of $(A,<)$ in $(\MM,\omega,\widetilde{\Omega},\Omega)$ are the subclasses of $A$ endowed with the order induced by $<$.
    \item[4.]
      In $(\CC,\Id_\CC,\CC,\CC)$, we have
      \[
        s\subs S
        \quad\text{if and only if}\quad
        [
          \text{$s<S$ in $\CC$}
          \quad\text{and}\quad
          \beta(Ss)=S.
        ]
      \]
      If the relations $s<S$ and $s\subs S$ are equivalent, then $\CC$ is a \emph{\unsure{completely right regular} category}.
      In this case, the condition $s<\alpha(f)$ implies that $\beta(fs)=\beta(f)$.
    \item[5.]
      If $s\subs_p S$, then $p(s)\subs p(S)$ in $(\CC,\Id_\CC,\CC,\CC)$.
  \end{enumerate}
\end{rmenv}

\begin{itenv}{Theorem 1}
  \oldpage{362}
  The relation $s\subs_p S$ is a relation order in $\HH_0$.
  Let $s,s',S\in\HH_0$;
  the conditions
  \[
    \begin{aligned}
      s&\subs_p S;
    \\s'&\subs_p S
      \quad\text{(resp. $s'\relrhobar S$)}\,;
    \\p(s')&\subs p(s)\text{ in }(\CC,\Id_\CC,\CC,\CC)
    \end{aligned}
  \]
  together imply that
  \[
    s'\subs_p s
    \quad\text{(resp. $s'\relrhobar s$)}.
  \]
\end{itenv}

\begin{proof}
  Since $\relrhobar$ is an order relation, if $s\subs S$ and $S\subs s$, then $s=S$.
  Suppose that $s_1\subs s$ and $s\subs S$;
  then $s_1\relrhobar S$.
  We will show that the pair $(S,s_1)$ satisfies condition (2\textquotesingle) of Proposition~4.
  Let
  \[
    \bar{g}
    = (S,p(S)p(s_1)\bullet g',S')
    \in\HH.
  \]
  The elements $p(S)p(s_1)$ and $(p(S)p(s))\bullet(p(s)p(s_1))$ are equal, since they are both bounded above by $p(S)$ and have the same source and target ($p(s_1)$ and $p(S)$, respectively);
  thus
  \[
    \bar{g}
    = \big(S,(p(S)p(s))\bullet(p(s)p(s_1)\bullet g'),S'\big)
    \in\HH
  \]
  and, since $s\subs S$,
  \[
    \bar{g}'
    = (s,(p(s)p(s_1))\bullet g', S')
    \in\HH;
  \]
  since $s_1\subs s$, it thus follows that
  \[
    (s_1,g',S)
    \in\HH
  \]
  i.e. $s_1\subs S$.
  Suppose that $s\subs S$, $s'\relrhobar S$, and $p(s')\subs p(s)$ in $(\CC,\Id_\CC,\CC,\CC)$.
  Then
  \[
    j
    = (S,p(S)p(s'),s')
    \in\HH;
  \]
  from the relations
  \[
    p(s') < p(s)
    \quad\text{and}\quad
    \beta(p(s)p(s')) = p(s)
  \]
  we deduce that the elements $p(S)p(s')$ and $(p(S)p(s))\bullet(p(s)p(s'))$ are equal, since they are both bounded above by $p(S)$ and have the same source and target ($p(s')$ and $p(S)$, respectively).
  Consequently,
  \[
    j
    = \big(S,(p(S)p(s))\bullet(p(s)p(s')),s'\big)
  \]
  and, by Proposition~4,
  \[
    (s,p(s)p(s'),s')
    \in\HH
  \]
  whence $s'\relrhobar s$.
  Suppose further that $s'\subs S$;
  let
  \[
    \bar{g}'
    = (s,p(s)p(s')\bullet g',S')
    \in\HH.
  \]
  We see that
  \[
    \begin{aligned}
      \bar{g}
      &= (S,p(S)p(s),s)\bullet\bar{g}'
    \\&= \big(S,(p(S)p(s))\bullet(p(s)p(s'))\bullet g',S'\big)
    \\&= (S,(p(S)p(s'))\bullet g',S')
    \in\HH.
    \end{aligned}
  \]
  \oldpage{363}
  Proposition~4 then implies that
  \[
    (s',g',S')\in\HH
    \quad\text{and}\quad
    s'\subs S.
    \qedhere
  \]
\end{proof}

\begin{itenv}{Corollary 1}
  If $s\subs_p S$, $s'\subs_p S$, and $p(s)=p(s')$, then $s=s'$.
\end{itenv}

\begin{proof}
  Indeed, by Theorem~1, these conditions imply that
  \[
    s\subs s'
    \quad\text{and}\quad
    s'\subs s
  \]
  whence $s=s'$.
\end{proof}

\begin{itenv}{Corollary 2}
  Let $s\subs_p S$;
  then $s$ is the largest element (with respect to the relation $\relrho$) of the class of structures $s'$ such that
  \[
    s'\relrhobar S
    \quad\text{and}\quad
    p(s') = p(s).
  \]
\end{itenv}

\begin{rmenv}{Definition 8}
  Let $\bar{h},\bar{h}'\in\HH$;
  we say that $\bar{h}'$ is a \emph{sub-homomorphism of $\bar{h}$ in $(\CC,p,\HH,\SS)$}, and we write $\bar{h}'\subs_p\bar{h}$ or $\bar{h}'\subs\bar{h}$, if the following conditions are satisfied:
  \[
    \begin{aligned}
      \alpha(\bar{h}')
      &\subs \alpha(\bar{h}),
    \\\beta(\bar{h}')
      &\subs \beta(\bar{h}),
    \\p(\bar{h}')
      &< p(\bar{h}).
    \end{aligned}
  \]
\end{rmenv}

\begin{itenv}{Proposition 5}
  In $\HH$, the relation $\bar{h}'\subs\bar{h}$ is an order relation that satisfies the following conditions:
  \begin{enumerate}
    \item[1.]
      If $\bar{h}'\subs\bar{h}$, and $\alpha(\bar{h}')=\alpha(\bar{h})$ and $\beta(\bar{h}')=\beta(\bar{h})$, then $\bar{h}=\bar{h}'$;
    \item[2.]
      If $\bar{h}'\subs\bar{h}$ then $p(\bar{h}')\subs p(\bar{h})$ in $(\CC,\Id_\CC,\CC,\CC)$;
      if, further, $p(\bar{h})=p(\bar{h}')$, then $\bar{h}=\bar{h}'$;
    \item[3.]
      If $(\bar{h}_1,\bar{h}),(\bar{h}'_1,\bar{h}')\in\HH\star\HH$ and $\bar{h}'\subs\bar{h}$ and $\bar{h}'_1\subs\bar{h}_1$, then $\bar{h}'_1\bullet\bar{h}'\subs\bar{h}_1\bullet\bar{h}$;
    \item[4.]
      If $\bar{h}'\subs_p\bar{h}$, $\bar{h}''\subs_p\bar{h}$, and $p(\bar{h}'')\subs p(\bar{h}')$ in $(\CC,\Id_\CC,\CC,\CC)$, then $\bar{h}''\subs_p\bar{h}'$.
  \end{enumerate}
\end{itenv}

\begin{proof}
  Conditions~(1) and (3) imply that $(\HH,\subs)$ is an ordered category (see \cref{section:ii}, Definition~18).
  Condition~(2) implies that $p$ belongs to $\widetilde{\Omega}'$ (see \cref{section:ii.6}), i.e. (\cref{section:iv}) that $(\HH,\subs)$ is an ordered category over $(\CC,<)$.
\end{proof}

\begin{itenv}{Corollary}
  If $\CC$ is \unsure{completely right regular}, and if, for all $s\in\HH_0$, the class of elements $p(s')$, where $s'\subs_p s$, is an inductive subclass of $\CC_0$, then $(\HH,\subs)$ is an inductive category over $(\CC,<)$.
\end{itenv}

\begin{itenv}{Proposition}
  Suppose that $\bar{h},\bar{h}'\in\Gamma$, $\alpha(\bar{h}')\subs_p\alpha(\bar{h})$, and $(p(\bar{h}')<p(\bar{h})$;
  then also $\beta(\bar{h}')\subs_p\beta(\bar{h})$, and, consequently, $\bar{h}'\subs_p\bar{h}$.
\end{itenv}

\begin{proof}
  \oldpage{364}
  Let
  \[
    \begin{aligned}
      \bar{h}
      &= (S_1,h,S)\in\Gamma
    \\\bar{h}'
      &= (s_1,h',s)\in\Gamma
    \end{aligned}
  \]
  be such that $h'<h$ and $j=(S,p(S)p(s),s)\in\HH$;
  then
  \[
    \begin{gathered}
      p\big(\bar{h}\bullet j\bullet \bar{h}'^{-1}\big)
      = h\bullet(p(S)p(s))\bullet h'^{-1}
      < p(S_1)p(s_1),
    \\\alpha\big(p\big(\bar{h}\bullet j\bullet\bar{h}'^{-1}\big)\big)
      = p(s_1)
      \quad\text{and}\quad
      \beta\big(p\big(\bar{h}\bullet j\bullet\bar{h}'^{-1}\big)\big)
      = p(S_1)
    \end{gathered}
  \]
  whence
  \[
    p\big(\bar{h}\bullet j\bullet\bar{h}'^{-1}\big)
    = p(S_1)p(s_1)
    \quad\text{and}\quad
    (S_1,p(S_1)p(s_1),s_1)
    \in\HH.
  \]
  Suppose, further, that $s\subs S$;
  let
  \[
    \bar{g}
    = (S_1,(p(S_1)p(s_1))\bullet g',S')
    \in\HH.
  \]
  The elements $h^{-1}\bullet(p(S_1)p(s_1))$ and $(p(S)p(s))\bullet h'^{-1}$ are equal, since they are both bounded above by $h^{-1}$ and have the same source and target ($p(s_1)$ and $p(S)$, respectively).
  Thus
  \[
    \bar{h}^{-1}\bullet\bar{g}
    = \big(S,(p(S)p(s))\bullet\big( h'^{-1}\bullet g'\big),S'\big)
    \in\HH
  \]
  and it follows from Proposition~4 that
  \[
    \bar{g}'
    = (s,h'^{-1}\bullet g',S')
    \in\HH;
  \]
  consequently,
  \[
    \bar{h}'\bullet\bar{g}'
    = (s_1,g',S')
    \in\HH
    \quad\text{and}\quad
    s_1\subs S_1.
    \qedhere
  \]
\end{proof}

\begin{itenv}{Proposition 7}
  Let
  \[
    \bar{h}
    = (s_1,h,s)
    \in\HH
  \]
  such that $s'\subs_p s$ and $s'_1\subs_p s_1$.
  If there exists $h'\in\CC$ such that
  \[
    \begin{gathered}
      h'<h,
    \\\alpha(h')=p(s')
      \quad\text{and}\quad
      \beta(h')=p(s'_1)
    \end{gathered}
  \]
  then
  \[
    \bar{h}'
    =(s'_1,h',s')
    \in\HH
    \quad\text{and}\quad
    \bar{h}'\subs_p\bar{h}.
  \]
  If, further, $\bar{h}$ and $h'$ are invertible, then $\bar{h}'\in\Gamma$.
\end{itenv}

\begin{proof}
  We have that
  \[
    \bar{h}\bullet(s\subs_p s')
    = (s_1,h\bullet(p(s)p(s')),s')
    \in\HH;
  \]
  the elements $h\bullet(p(s)p(s'))$ and $p(s_1)p(s'_1)\bullet h'$ are equal, since they are bounded above by $h$ and have the same source and target ($p(s')$ and $p(s_1)$, respectively);
  thus
  \[
    \bar{h}\bullet(s\subs_p s')
    = (s_1,(p(s_1)p(s'_1))\bullet h',s')
    \in\HH
  \]
  and, by Proposition~4, we see that
  \[
    \bar{h}'
    = (s'_1,h',s')
    \in\HH.
  \]
  \oldpage{365}
  If, further, $\bar{h}\in\Gamma$ and $h'$ is invertible, then also $(s',h'^{-1},s'_1)\in\HH$, whence $\bar{h}'\in\Gamma$.
\end{proof}

Let $\vsq\CC$ be the longitudinal category of \unsure{squares} of $\CC$ (see \cref{section:ii.5}), i.e. the class of quadruples $(g_1,f_1,f,g)\in\CC^4$ such that $g_1\bullet f=f_1\bullet g$, endowed with the multiplication
\[
  (g'_1,f'_1,f',g')\vmult(g_1,f_1,f,g)
  = (g'_1,f'_1\bullet f_1,f'\bullet f,g)
  \quad\text{if and only if}\quad
  g'=g_1.
\]

\begin{itenv}{Proposition 8}
  Let $h,h'\in\CC$, and let
  \[
    \begin{array}{ll}
      \alpha(h)
      = s,
      &\alpha(h')
      = s',
    \\\beta(h)
      = s_1,
      &\beta(h')
      = s'_1.
    \end{array}
  \]
  Then the following conditions are equivalent:
  \begin{enumerate}
    \item[1.]
      $h'\subs h$ in $(\CC,\Id_\CC,\CC,\CC)$;
    \item[2.]
      $h'<h$ in $\CC$, and $\beta(ss')=s$ and $\beta(s_1s'_1)=s_1$;
    \item[3.]
      $s'<s$, $s'_1<s_1$, and $(h,s_1s'_1,ss',h')\in\sq\CC$.
  \end{enumerate}
\end{itenv}

\begin{proof}
  Indeed, conditions~(1) and (2) are equivalent by the above.
  If (2) is satisfied, then the elements $h\bullet ss'$ and $s_1s'_1\bullet h'$ are equal, since they are both bounded above by $h$, and have the same source and target ($s'$ and $s_1$, respectively);
  thus (3) is satisfied.
  If condition~(3) is satisfied, then
  \[
    s'\subs s
    \quad\text{and}\quad
    s'_1\subs s_1
  \]
  since $\beta(ss')=s$ and $\beta(s_1s'_1)=s_1$.
  Further,
  \[
    s'_1<s_1s'_1
    \quad\text{and}\quad
    ss'<s
  \]
  whence
  \[
    h'
    < s_1s'_1\bullet h'
    = h\bullet ss'
    < h.
    \qedhere
  \]
\end{proof}

If $h'\subs h$ in $(\CC,\Id_\CC,\CC,\CC)$, then we denote by $h\sqsubs h'$ the \unsure{square} $(h,\beta(h)\beta(h'),\alpha(h)\alpha(h'),h')$.
The class $\UU$ of \unsure{squares} $h\sqsubs h'$ is a subcategory of $\vsq\CC$.
Let $\UU'$ be the subcategory of $\UU$ given by the \unsure{squares} $h\sqsubs h'$ such that $h'$ and $h$ are invertible.

Let $\vsq\HH$ be the longitudinal category of \unsure{squares} of $\HH$, and $\sq p$ the functor
\[
  (g_1,f_1,f,g)
  \longmapsto (p(g_1),p(f_1),p(f),p(g))
\]
from $\vsq\HH$ to $\vsq\CC$.
Then $(\vsq\CC,\sq p,\vsq\HH,\bar{\Gamma}')$ is a category of homomorphisms, where $\bar{\Gamma}'$ is the groupoid of invertible elements of $\vsq\HH$.
For a quadruple $\bar{G}=(\bar{g}_1,\bar{f}_1,\bar{f},\bar{g})$ to belong to $\vsq\HH$, it is necessary and sufficient that
\[
  \begin{array}{ll}
    \alpha(\bar{f})=\alpha(\bar{g}),
    & \beta(\bar{f})=\alpha(\bar{g}_1),
  \\\alpha(\bar{f}_1)=\alpha(\bar{g}),
    & \beta(\bar{f}_1)=\alpha(\bar{g}_1)
  \end{array}
\]
and that $\sq p(\bar{G})$ is a \unsure{square};
indeed, the elements $\bar{g}_1\cdot\bar{f}$ and $\bar{f}_1\cdot\bar{g}$ are then equal, since they have the same image under $p$, and have the same source and target.

\oldpage{366}
Let




%% Bibliography %%

\nocite{*}
\printbibliography[heading=bibintoc,title=Bibliography]

\end{document}
